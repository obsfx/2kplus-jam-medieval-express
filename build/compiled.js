'use strict';let c=document.getElementsByTagName("canvas")[0].getContext("2d"),e=Array(100).fill(99),f=["#0BF8F1","#F61677","#FFF","#0F0"],h="000110010001100100111101010001010101011001110101011001001110111000000000001100001011011110110111000000001111111100000000010000101111111110000001101111011010010110111101101110011011110110111101111111111000000110000001100000011000000110000001100000011000000100000000000000000110001010111101000101000001100000000000000000000000000000000000000110100001101000000010000101110010101001101000001001000011110100011001000000100011100101110101011001101110010100011000001000100011101100011011001010100110110001101010111010100000000000100000001100000111000001110000011100000111110011111111000000000000000000010000001110000110110001110110111110111111111100000000000000000011110000011000000110000001100000111100011111100000000000000000000000100000110001000100001010000111110110110111".split(""),
k={f:{x:0,y:0},c:{x:0,y:0},a:[]},l=[],m={x:0,y:0},t={x:0,y:0,b:0,a:(a,b,d)=>{99==e[10*b+a]?(p(a,b,t,0),t.b&&(1==d&&t.x-2==m.x&&t.y==m.y&&p(t.x-1,t.y,m,1),0==d&&t.x+2==m.x&&t.y==m.y&&p(t.x+1,t.y,m,1),2==d&&t.x==m.x&&t.y+2==m.y&&p(t.x,t.y+1,m,1),3==d&&t.x==m.x&&t.y-2==m.y&&p(t.x,t.y-1,m,1)),u()):l.filter(g=>g.x==a&&g.y==b)[0]?(console.log("attack"),u()):1==e[10*b+a]&&(1==d&&99==e[10*b+a+1]&&(p(a+1,b,m,1),p(a,b,t,0)),0==d&&99==e[10*b+a-1]&&(p(a-1,b,m,1),p(a,b,t,0)),2==d&&99==e[10*(b-1)+a]&&(p(a,b-1,
m,1),p(a,b,t,0)),3==d&&99==e[10*(b+1)+a]&&(p(a,b+1,m,1),p(a,b,t,0)))}},v=(a,b)=>Math.floor(Math.random()*(b-a))+a,w=(a,b,d,g,n)=>{for(let q=b;q<b+g;q++)for(let r=a;r<a+d;r++)e[10*q+r]=n},x=()=>{let a=[];e.map((b,d)=>{99==b&&a.push({x:d%10,y:Math.floor(d/10)})});return a},p=(a,b,d,g)=>{e[10*d.y+d.x]=99;d.x=a;d.y=b;e[10*d.y+d.x]=g},u=()=>{l.map((a,b)=>{let d=t.x>a.x?1:-1,g=t.y>a.y?1:-1;2<v(0,9)&&(0==e[10*a.y+a.x+d]||0==e[10*(a.y+g)+a.x]?console.log("mob attack"):99==e[10*a.y+a.x+d]&&t.x!=a.x?(e[10*
a.y+a.x+d]=e[10*a.y+a.x],e[10*a.y+a.x]=99,l[b].x=a.x+d):99==e[10*(a.y+g)+a.x]&&(e[10*(a.y+g)+a.x]=e[10*a.y+a.x],e[10*a.y+a.x]=99,l[b].y=a.y+g))})};window.onkeydown=a=>{a.repeat||(69==a.keyCode&&(t.b=1),39==a.keyCode?t.a(t.x+1,t.y,1):37==a.keyCode?t.a(t.x-1,t.y,0):38==a.keyCode?t.a(t.x,t.y-1,2):40==a.keyCode&&t.a(t.x,t.y+1,3))};window.onkeyup=a=>{a.repeat||69!=a.keyCode||(t.b=0)};
(()=>{w(0,0,10,10,98);w(1,1,8,8,99);var a=x().filter(g=>1<g.x&&8>g.x&&1<g.y&&8>g.y);for(var b=0;b<v(3,5);b++){var d=a.splice(v(0,a.length),1)[0];e[10*d.y+d.x]=v(8,10)}for(b=0;b<v(1,4);b++)d=a.splice(v(0,a.length),1)[0],e[10*d.y+d.x]=v(4,7),l[l.length]={h:l.length,g:10,k:0,x:d.x,y:d.y};a=v(1,6);b=v(1,7);e[10*a]=3;e[10*b+9]=2;e[10*a+1]=0;t.x=1;t.y=a;e[10*(a+1)+1]=1;m.x=1;m.y=a+1;k={f:{x:0,y:a},c:{x:9,y:b},a:e}})();console.log(t,l);
setInterval(()=>{c.fillStyle="#000";c.fillRect(0,0,500,500);c.fillStyle=f[2];c.fillRect(12,12,216,216);c.fillStyle="#000";c.fillRect(14,14,212,212);k.a.map((a,b)=>{if(99!=a){var d=f[2];0==a&&(d=f[0]);1==a&&(d=f[3]);3<a&&8>a&&(d=f[1]);if(98!=a){var g=b%10;b=Math.floor(b/10);for(let n=0;64>n;n++)"0"!=h[64*a+n]?c.fillStyle=d:c.fillStyle="#000",c.fillRect(n%8*3+24*g,3*Math.floor(n/8)+24*b,3,3)}}else c.fillStyle="#666",c.fillRect(b%10*24+8,24*Math.floor(b/10)+8,3,3)})},1E3/30);
