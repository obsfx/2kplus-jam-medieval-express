<body bgcolor="black"><canvas style="border:1px solid #3a3a3a;position: absolute;top: 50%;left: 50%;transform: translate(-50%, -50%);" width="500px" height="500px"></canvas></body><script>let c=document.getElementsByTagName("canvas")[0].getContext("2d"),e=Array(100).fill(99),f=["#0BF8F1","#F61677","#FFF"],g="00011001000110010011110101000101010101100111010101100100111011100000000000110000101101111011011100000000111111110000000001000010111111111000000110111101101001011011110110111001101111011011110111111111100000011000000110000001100000011000000110000001100000010000000000000000011000101011110100010100000110000000000000000000000000000000000000011010000110100000001000010111001010100110100000100100001111010001100100000010001110010111010101100110111001010001100000100010001110110001101100101010011011000110101011101010000000000010000000110000011100000111000001110000011111001111111100000000000000000001000000111000011011000111011011111011111111110000000000000000001111000001100000011000000110000011110001111110000000000011111100010001001100010011000100110001001100010011111111100111101001011000000110000001100000010100001001000010001111000000000000010001000011100000110000010010011000001000000000000000000010000001011000010001001000100010001001000100011001000001100000000000000000000001110000001000000111000001110000011100000000000000100000010100000101000000100000001000000010000000110000000000".split(""),l={c:{x:0,y:0},b:{x:0,y:0},a:[]},m={},q={x:0,y:0,a:(a,b)=>{99==e[10*b+a]?q.f(a,b):m[10*b+a]&&console.log("attack")},f:(a,b)=>{e[10*q.y+q.x]=99;q.x=a;q.y=b;e[10*q.y+q.x]=0}},r=(a,b)=>Math.floor(Math.random()*(b-a))+a,t=(a,b,d,h,k)=>{for(let n=b;n<b+h;n++)for(let p=a;p<a+d;p++)e[10*n+p]=k},u=()=>{let a=[];e.map((b,d)=>{99==b&&a.push({x:d%10,y:Math.floor(d/10)})});return a};window.onkeydown=a=>{a.repeat||(39==a.keyCode?q.a(q.x+1,q.y):37==a.keyCode?q.a(q.x-1,q.y):38==a.keyCode?q.a(q.x,q.y-1):40==a.keyCode&&q.a(q.x,q.y+1))};(()=>{t(0,0,10,10,98);t(1,1,8,8,99);var a=u().filter(h=>1<h.x&&8>h.x&&1<h.y&&8>h.y);for(var b=0;b<r(3,5);b++){var d=a.splice(r(0,a.length),1)[0];e[10*d.y+d.x]=r(8,10)}for(b=0;b<r(1,4);b++)d=a.splice(r(0,a.length),1)[0],e[10*d.y+d.x]=r(4,7),m[10*d.y+d.x]={g:10,k:0};a=r(1,7);b=r(1,7);e[10*a]=3;e[10*b+9]=2;e[10*a+1]=0;q.x=1;q.y=a;l={c:{x:0,y:a},b:{x:9,y:b},a:e}})();let v=()=>{c.fillStyle="#000";c.fillRect(0,0,500,500);c.fillStyle=f[2];c.fillRect(12,12,216,216);c.fillStyle="#000";c.fillRect(14,14,212,212);l.a.map((a,b)=>{if(99!=a){var d=f[2];if(0==a||1==a)d=f[0];3<a&&8>a&&(d=f[1]);if(98!=a){var h=b%10;b=Math.floor(b/10);for(let k=0;64>k;k++)"0"!=g[64*a+k]?c.fillStyle=d:c.fillStyle="#000",c.fillRect(k%8*3+24*h,3*Math.floor(k/8)+24*b,3,3)}}});requestAnimationFrame(v)};console.log(q,m);v();</script>